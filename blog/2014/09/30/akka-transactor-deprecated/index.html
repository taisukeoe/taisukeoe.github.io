
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Akka Transactorsã¯ã‚ªãƒ¯ã‚³ãƒ³ - OE_uia Tech Blog</title>
  <meta name="author" content="Taisuke Oe">

  
  <meta name="description" content="@OE_uia STM is a failure, since removed from Akka.&mdash; Jamie Allen (@jamie_allen) September 28, 2014 9/28ã®Akka Meetupã§ã€ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://taisukeoe.github.io/blog/2014/09/30/akka-transactor-deprecated/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="OE_uia Tech Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39038510-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">OE_uia Tech Blog</a></h1>
  
    <h2>ScalaMatsuri / Scala / Android / Bioinfomatics</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="taisukeoe.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Akka Transactorsã¯ã‚ªãƒ¯ã‚³ãƒ³</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-30T01:21:47+09:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>1:21 am</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://taisukeoe.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><blockquote class="twitter-tweet"><p lang="en" dir="ltr"><a href="https://twitter.com/OE_uia">@OE_uia</a> STM is a failure, since removed from Akka.</p>&mdash; Jamie Allen (@jamie_allen) <a href="https://twitter.com/jamie_allen/status/516271313258676226">September 28, 2014</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>9/28ã®Akka Meetupã§ã€Akkaã§Transactionå‡¦ç†ã™ã‚‹è©±é¡ŒãŒå‡ºãŸã¨ãã«ã€ã“ã‚“ãªã“ã¨ã‚’ã¤ã¶ã‚„ã„ãŸã‚‰ã€<a href="http://shop.oreilly.com/product/0636920028789.do">Effective Akka</a>è‘—è€…ã®<a href="https://twitter.com/jamie_allen">@jamie_allen</a>ã•ã‚“ã«ã€Œãã‚Œã¯ã‚‚ã†ã‚ªãƒ¯ã‚³ãƒ³ã ã‚ˆã€ã¨æ•™ãˆã¦ã„ãŸã ã„ãŸ(ç¢ºã‹ã«èª¿ã¹ã¦ã¿ã‚‹ã¨ã€<a href="http://doc.akka.io/docs/akka/snapshot/project/migration-guide-2.2.x-2.3.x.html">Akka 2.3ã§deprecated</a>)ã®ã§è¨˜äº‹åŒ–ã—ã¦ã¿ã‚‹ã€‚</p>

<!--more-->


<h2>Akka Transactorsã¨ã¯</h2>

<p><a href="http://doc.akka.io/docs/akka/2.0/scala/transactors.html">Akka Transactors å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚ˆã‚ŠæŠœç²‹,ç¿»è¨³ã€‚</p>

<blockquote><p>Generally, the STM is not needed very often when working with Akka. Some use-cases (that we can think of) are:</p>

<ul>
<li>When you really need composable message flows across many actors updating their internal local state but need them to do that atomically in one big transaction. Might not be often but when you do need this then you are screwed without it.</li>
<li>When you want to share a datastructure across actors.</li>
</ul>


<p>ä¸€èˆ¬çš„ã«ã€Akkaã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã¨ãã«STMã¯æ®†ã©ã®å ´åˆå¿…è¦ãªã„ã‘ã‚Œã©ã‚‚ã€(æˆ‘ã€…ã®è€ƒãˆã¦ã„ã‚‹)ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒå¹¾ã¤ã‹ã‚ã‚‹:</p>

<ul>
<li>å¤šæ•°ã®ã‚¢ã‚¯ã‚¿ãƒ¼é–“ã®å†…éƒ¨ã®ãƒ­ãƒ¼ã‚«ãƒ«ãªçŠ¶æ…‹ã‚’ä¸€ã¤ã®å¤§ããªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å†…ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯ã«å¤‰æ›´ã™ã‚‹ç‚ºã«åˆæˆå¯èƒ½ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ãƒ­ãƒ¼ãŒå¿…è¦ãªã¨ãã€‚ã“ã†ã„ã†ã‚±ãƒ¼ã‚¹ã¯ä½™ã‚Šé »ç¹ã«ã¯ãªã„ãŒã€<strong>å¿…è¦ã«ãªã£ãŸã¨ãTransactorsãŒãªã„ã¨ã¨ã¦ã‚‚å›°ã‚‹ã¯ãšã </strong>ã€‚</li>
<li>ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ã‚¢ã‚¯ã‚¿ãƒ¼é–“ã§å…±æœ‰ã—ãŸã„ã¨ã</li>
</ul>
</blockquote>

<p>ã€ŒTransactorsãŒç„¡ã„ã¨ã¨ã¦ã‚‚å›°ã‚‹ã¯ãšã ã€ã¨æ›¸ã„ã¦ãŠããªãŒã‚‰ã€ãªã‚“ã§å‰Šé™¤ã•ã‚ŒãŸã®ã‹æ°—ã«ãªã£ãŸã®ã§èã„ã¦ã¿ãŸã€‚</p>

<h2>Akka TransactorsãŒå‰Šé™¤ã•ã‚ŒãŸç†ç”±</h2>

<ul>
<li>Jamieã•ã‚“æ›°ãã€éæ±ºå®šç‚¹?(some indeterminate point)ã«ãŠã„ã¦STMã¯ãƒ©ã‚¤ãƒ–ãƒ­ãƒƒã‚¯ã«é™¥ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã€‚<em>(STMã®ãƒ©ã‚¤ãƒ–ãƒ­ãƒƒã‚¯ã«ã¤ã„ã¦ã¯<a href="http://ja.wikipedia.org/wiki/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%8A%E3%83%AB%E3%83%A1%E3%83%A2%E3%83%AA#.E4.B8.8D.E9.80.8F.E6.98.8E.E6.80.A7">ã“ã®ã‚ãŸã‚Š</a>ã‚’å‚ç…§ã€‚)</em></li>
<li>Akka Teamã®<a href="https://twitter.com/patriknw">@patriknw</a>ã•ã‚“æ›°ãã€Akka Transactorsã¯<a href="https://groups.google.com/d/msg/akka-user/P1VCkauJXN4/DvQ8J4eNnqUJ">Scalableã§ã‚‚Distributableã§ã‚‚ãªã„</a>ã‹ã‚‰ã€‚</li>
<li>ä¸Šè¨˜äºŒã¤ã¯ä¸€å¿œåˆ†ã‘ãŸã‘ã©ã€ã“ã‚Œã¯ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ç’°å¢ƒã ã¨STMãŒãƒ©ã‚¤ãƒ–ãƒ­ãƒƒã‚¯ã«é™¥ã‚Šã‚„ã™ã„<strong>ã®ã§</strong>ã€Scalabilityã‚„Distributabilityã‚’æãªã†ã€ã¨ã„ã†ã“ã¨ãªæ°—ãŒã™ã‚‹(ãŒé–“é•ã£ã¦ã„ãŸã‚‰æ•™ãˆã¦ãã ã•ã„)ã€‚</li>
</ul>


<h2>Akka Transactorsã®ä»£æ›¿æ‰‹æ®µ</h2>

<ul>
<li>è¤‡æ•°ã®Actorã®å†…éƒ¨ã®ãƒ­ãƒ¼ã‚«ãƒ«ãªçŠ¶æ…‹ã‚’atomicã«å¤‰æ›´ã—ãŸã„ã¨ãã¯ã€short-lived actor(çŸ­å‘½ã®ã‚¢ã‚¯ã‚¿ãƒ¼)ã‚’å®Ÿè£…ã—ã¦ãã®ä¸­ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›¸ãã€‚</li>
<li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®æ›¸ãæ–¹ã¯ã€ãã®short-lived actorã®failureå†…ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’è‡ªå‰ã§å®Ÿè£…ã™ã‚‹ã®ãŒã€Jamieã•ã‚“ãŒ<a href="http://www.slideshare.net/shinolajla/effective-akka-scalaio/8">Effective Akkaå†…ã§ã‚‚</a>ãŠå‹§ã‚ã—ã¦ã„ã‚‹æ–¹æ³•ã€‚</li>
<li>ã§ã‚‚short-lived actorå†…ã®localãªç’°å¢ƒã«é™å®šã™ã‚Œã°<a href="https://groups.google.com/d/msg/akka-user/P1VCkauJXN4/DvQ8J4eNnqUJ">STMã‚‚ä½¿ãˆã‚‹</a>ã¯ãšâ€¦ãªã®ã ã‘ã©ã€ãã®ã“ã¨ã‚’èã„ãŸã‚‰<a href="https://twitter.com/jamie_allen/status/516359268723740672">&ldquo;No, no STM at all&rdquo;</a>ã¨å¼·ãå¦å®šã•ã‚ŒãŸã€‚localãªç’°å¢ƒãªã‚‰STMã¯ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯ã§ã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã•ãˆã‚ã‚Œã°ååˆ†ã¨ã„ã†ã ã‘ã®ã“ã¨ã‹ã—ã‚‰ã€‚</li>
</ul>


<h2>æœ€å¾Œã«</h2>

<p>Effective Akkaã®Cameo Patternã¨ã„ã†é …ã§ã€short-lived actorã§è¤‡æ•°ã®Actorã®ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆã™ã‚‹ä¾‹ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã”å‚è€ƒã¾ã§ã«(ã§ã‚‚ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆã™ã‚‹ã¨ã“ã‚ã ã‘ã§ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ç›¸å½“ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ãªã„ï¼‰ã€‚</p>

<iframe src="https://www.slideshare.net/slideshow/embed_code/key/J1JLMjGoC0zu5v" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/shinolajla/effective-akka-scalaio" title="Effective akka scalaio" target="_blank">Effective akka scalaio</a> </strong> from <strong><a href="http://www.slideshare.net/shinolajla" target="_blank">shinolajla</a></strong> </div></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Taisuke Oe</span></span>

      




<time class='entry-date' datetime='2014-09-30T01:21:47+09:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>1:21 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/akka/'>akka</a>, <a class='category' href='/blog/categories/scala/'>scala</a>, <a class='category' href='/blog/categories/stm/'>stm</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://taisukeoe.github.io/blog/2014/09/30/akka-transactor-deprecated/" data-via="OE_uia" data-counturl="http://taisukeoe.github.io/blog/2014/09/30/akka-transactor-deprecated/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/09/25/scalamatsuri-code-of-conduct/" title="Previous Post: ScalaMatsuri è¡Œå‹•è¦ç¯„ã‚’æ²ã’ãŸçµŒç·¯">&laquo; ScalaMatsuri è¡Œå‹•è¦ç¯„ã‚’æ²ã’ãŸçµŒç·¯</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/12/06/scala-repl-extension/" title="Next Post: Scalaã®REPLã‚’æ‹¡å¼µã™ã‚‹ã«ã¯">Scalaã®REPLã‚’æ‹¡å¼µã™ã‚‹ã«ã¯ &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/09/17/scala-kansai-2017/">Scalaé–¢è¥¿ã‚µãƒŸãƒƒãƒˆã«å‘ã‘ã¦è‰²ã€…ä»•è¾¼ã‚“ã§ã„ãŸè©±</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/06/bonx-retire/">BONXç¤¾ã‚’é€€è·ã™ã‚‹ã®ã§ã€ã“ã‚Œã¾ã§ã®ä»•äº‹ã«ã¤ã„ã¦æŒ¯ã‚Šè¿”ã£ã¦ã¿ãŸ</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/03/05/scalamatsuri-employee/">ScalaMatsuriã®åˆç¤¾å“¡æ¡ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ã“ã‚Œã¾ã§ã®é‹å–¶ã®å¤±æ•—ã¨æˆåŠŸã®æ­´å² ~ScalaMatsuri 2017ã‚’æŒ¯ã‚Šè¿”ã£ã¦~</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/03/scala-kansai/">Scalaé–¢è¥¿ã‚µãƒŸãƒƒãƒˆã§Android Akkaã«ã¤ã„ã¦å–‹ã£ã¦ããŸè©±</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/05/internationalize-scalamatsuri/">ãƒ­ãƒ¼ã‚«ãƒ«ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’ç„¡ç†ãªãå›½éš›åŒ–ã™ã‚‹æ–¹æ³• - ScalaMatsuri 2016ã‚’æŒ¯ã‚Šè¿”ã£ã¦</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/taisukeoe">@taisukeoe</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'taisukeoe',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
<a class="twitter-timeline" href="https://twitter.com/OE_uia" data-widget-id="514961237487017985">@OE_uia $B$+$i$N%D%$!<%H(B</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Taisuke Oe -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'taisukeoe';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://taisukeoe.github.io/blog/2014/09/30/akka-transactor-deprecated/';
        var disqus_url = 'http://taisukeoe.github.io/blog/2014/09/30/akka-transactor-deprecated/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
